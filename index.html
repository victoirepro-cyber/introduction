<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>I-JOM</title>

<style>
html,body{height:100%;margin:0;font-family:Arial, sans-serif}

/* ================= INTRO VIDEO ================= */
#intro{position:fixed;inset:0;overflow:hidden;background:#000;z-index:10}
video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 900ms ease}
.shade{position:absolute;inset:0;background:rgba(0,0,0,.25)}
.msg{
  position:absolute;left:16px;bottom:16px;
  color:#fff;font:14px/1.4 Arial;
  background:rgba(0,0,0,.35);padding:10px 12px;border-radius:12px
}

/* ================= PAGE ACCUEIL ================= */
#accueil{
  display:none;
  min-height:100vh;
  background: linear-gradient(to right, #ffffff 0%, #ffffff 30%, #a8c2da 100%);
}

.container{display:flex}

/* Sidebar */
.sidebar{
  width:220px;
  padding:0;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  background:#fff;
}

.logo img{
  max-width:220px;
  height:auto;
  display:block;
}

/* Menu */
.menu{
  background-color:#fff;
  flex:1;
  padding:20px;
}

.menu a{
  display:block;
  margin:35px 0;
  text-decoration:none;
  color:black;
  font-style:italic;
}

.menu a:hover{color:red}

.menu a.active{
  font-size:22px;
  font-weight:bold;
  color:red;
}

/* ================= DROPDOWN (copié comme page À propos) ================= */
.dropdown{position:relative;margin:20px 0;}
.dropbtn{
  display:block;
  text-decoration:none;
  color:black;
  font-style:italic;
}
.dropbtn:hover{color:red;}

.dropdown-content{
  display:none;
  margin-top:8px;
  margin-left:12px;
  border-left:2px solid #eee;
  padding-left:12px;
}

.dropdown-content a{
  display:block;
  margin:10px 0;
  text-decoration:none;
  color:#333;
  font-style:normal;
  font-size:14px;
}
.dropdown-content a:hover{color:red;}

.dropdown:hover .dropdown-content{display:block;}

/* ================= Main content ================= */
.main-content{
  flex:1;
  padding:30px;
}

/* Titre même design que page À propos */
.page-title{
  text-align:center;
  font-size:48px;
  letter-spacing:2px;
  margin:10px 0 30px;
  color:#2f5fa7;
  text-transform:uppercase;
  text-shadow:0 2px 0 rgba(255,255,255,.7);
}

/* Cadre même style/dimension que page À propos */
.box{
  background:rgba(255,255,255,.55);
  border:2px solid #2f5fa7;
  border-radius:10px;
  padding:30px;
  max-width: 900px;
  margin: 0 auto;
  color:#0b2b4b;
  font-size:18px;
  line-height:1.6;
  text-align:left;
}

/* Boutons AVANT le fil d'actualité */
.buttons{
  margin:0 auto 25px;
  display:flex;
  justify-content:center;
  gap:50px;
  max-width:900px; /* aligné avec le cadre */
}

.btn{
  padding:18px 38px;
  font-size:18px;
  cursor:pointer;
  border-radius:8px;
  border:2px solid;
  transition:.3s;
  background:#fff;
}

.talent{border-color:red;color:red;}
.talent:hover{background:red;color:white;}

.recruteur{border-color:#2e7d32;color:#2e7d32;}
.recruteur:hover{background:#2e7d32;color:white;}

/* Fil d’actualité (dans .box) */
.news-title{
  margin:0 0 10px;
  text-align:center;
  color:#2f5fa7;
  font-size:22px;
  text-transform:uppercase;
  letter-spacing:1px;
}

.ticker{
  background:rgba(255,255,255,.7);
  border:1px dashed rgba(47,95,167,.6);
  border-radius:10px;
  padding:12px;
  min-height:48px;
}

.news-empty{
  margin:12px 0 0;
  text-align:center;
  font-style:italic;
  opacity:.8;
}
</style>
</head>

<body>

<!-- ================= INTRO ================= -->
<div id="intro">
  <video id="bg" autoplay muted loop playsinline>
    <source src="video/I-jom intro.mp4" type="video/mp4">
  </video>
  <div class="shade"></div>
  <div class="msg" id="msg">Détection du pays…</div>
</div>

<!-- ================= ACCUEIL ================= -->
<div id="accueil">
  <div class="container">

    <div class="sidebar">
      <div class="logo">
        <img src="images/LOGO I-JOM.jpg" alt="Logo I-JOM">
      </div>

      <div class="menu">
        <a href="index.html" class="active">ACCUEIL</a>
        <a href="apropos.html">A PROPOS DE NOUS</a>

        <div class="dropdown">
         <a href="profil-talent-connexion.html"><button>Profil Talent</button></a>
          <div class="dropdown-content">
            <a href="#">Connexion</a>
            <a href="#">Mon Compte</a>
            <a href="#">Inscription</a>
          </div>
        </div>

        <div class="dropdown">
          <a href="#" class="dropbtn">RECRUTEUR ▾</a>
          <div class="dropdown-content">
            <a href="#">Connexion</a>
            <a href="#">Espace Recruteur</a>
            <a href="#">Inscription</a>
          </div>
        </div>

        <a href="#">NOUS CONTACTER</a>
      </div>
    </div>

    <div class="main-content">
      <!-- ✅ Titre design comme À propos -->
      <div class="page-title">COMPATIBILITÉ MÉTIER ET RECRUTEMENT</div>

      <!-- ✅ Boutons AVANT le fil d’actu -->
      <div class="buttons">
        <button class="btn talent">PROFIL TALENT</button>
        <button class="btn recruteur">RECRUTEUR</button>
      </div>

      <!-- ✅ Fil d'actu dans un cadre même dimension que À propos -->
      <div class="box">
        <h2 class="news-title">FIL D’ACTUALITÉ / PUBLICITÉ</h2>

        <div class="ticker" aria-label="Fil d’actualité">
          <div class="ticker-track" id="tickerTrack">
            <!-- VIDE pour le moment -->
          </div>
        </div>

        <p class="news-empty" id="newsEmpty">Aucune actualité pour le moment.</p>
      </div>
    </div>

  </div>
</div>

<script>
const intro = document.getElementById("intro");
const accueil = document.getElementById("accueil");

if (sessionStorage.getItem("introPlayed")) {
  intro.style.display = "none";
  accueil.style.display = "block";
} else {
  const msg = document.getElementById("msg");

  async function detectCountryFast(){
    const r = await fetch("https://ipapi.co/json/");
    const j = await r.json();
    return j.country_name || "";
  }

  (async () => {
    try{
      const country = await detectCountryFast();
      msg.textContent = country ? `Pays détecté : ${country}` : "Pays non détecté";

      setTimeout(() => {
        msg.textContent = "Chargement…";
        intro.style.display = "none";
        accueil.style.display = "block";
        sessionStorage.setItem("introPlayed", "true");
      }, 5000);

    }catch(e){
      intro.style.display = "none";
      accueil.style.display = "block";
      sessionStorage.setItem("introPlayed", "true");
    }
  })();
}
</script>

</body>
</html>
