<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>I-JOM</title>

<style>
html,body{height:100%;margin:0;font-family:Arial, sans-serif}

/* ================= INTRO VIDEO ================= */

#intro{position:fixed;inset:0;overflow:hidden;background:#000;z-index:10}
video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform 900ms ease}
.shade{position:absolute;inset:0;background:rgba(0,0,0,.25)}
.msg{
  position:absolute;left:16px;bottom:16px;
  color:#fff;font:14px/1.4 Arial;
  background:rgba(0,0,0,.35);padding:10px 12px;border-radius:12px
}

/* ================= PAGE ACCUEIL ================= */

#accueil{
  display:none;
  min-height:100vh;
  background:linear-gradient(to bottom,#cfd8dc,#90a4ae);
}

.container{display:flex}

.sidebar {
    width: 220px;
    padding: 0; /* on enlève le padding global */
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Logo reste en haut */
.logo img {
    max-width: 220px;
    height: auto;
    display: block;
}

/* Menu prend tout l'espace restant */
.menu {
    background-color: white;  /* couleur blanche */
    flex: 1;                  /* descend jusqu’en bas */
    padding: 20px;
}

/* Liens du menu */
.menu a {
    display: block;
    margin: 20px 0;
    text-decoration: none;
    color: black;
    font-style: italic;
}

.menu a:hover {
    color: red;
}

.main-content{
  flex:1;
  padding:30px;
  text-align:center;
}

.news-container{
  background:#f5f5f5;
  padding:30px;
  margin:auto;
  width:70%;
  border:2px solid #8bc34a;
  border-radius:10px;
}

.news-item{
  background:white;
  padding:15px;
  margin:10px 0;
  border-radius:8px;
  box-shadow:0 2px 5px rgba(0,0,0,.2);
}

.buttons{
  margin-top:50px;
  display:flex;
  justify-content:center;
  gap:50px;
}

.btn{
  padding:20px 40px;
  font-size:18px;
  cursor:pointer;
  border-radius:8px;
  border:2px solid;
  transition:.3s;
}

.talent{
  border-color:red;
  color:red;
  background:white;
}

.talent:hover{
  background:red;
  color:white;
}

.recruteur{
  border-color:#1976d2;
  color:#1976d2;
  background:white;
}

.recruteur:hover{
  background:#1976d2;
  color:white;
}

</style>
</head>

<body>

<!-- ================= INTRO ================= -->
<div id="intro">
  <video id="bg" autoplay muted loop playsinline>
    <source src="video/I-jom intro.mp4" type="video/mp4">
  </video>
  <div class="shade"></div>
  <div class="msg" id="msg">Détection du pays…</div>
</div>

<!-- ================= ACCUEIL ================= -->
<div id="accueil">
  <div class="container">
    <div class="sidebar">
      <div class="logo"><img src="images/LOGO I-JOM.jpg" alt="Logo I-JOM"></div>
     <div class="menu">
    <a href="#">ACCUEIL</a>
    <a href="#">A PROPOS DE NOUS</a>

    <div class="dropdown">
        <a href="#" class="dropbtn">PROFIL TALENT ▾</a>
        <div class="dropdown-content">
            <a href="#">Connexion</a>
            <a href="#">Mon Compte</a>
            <a href="#">Inscription</a>
        </div>
    </div>

    <div class="dropdown">
        <a href="#" class="dropbtn">RECRUTEUR ▾</a>
        <div class="dropdown-content">
            <a href="#">Connexion</a>
            <a href="#">Espace Recruteur</a>
            <a href="#">Inscription</a>
        </div>
    </div>
    </div>

    <div class="main-content">
      <h1>COMPATIBILITÉ MÉTIER ET RECRUTEMENT</h1>

      <div class="news-container">
  <h2 class="news-title">FIL D’ACTUALITÉ / PUBLICITÉ</h2>

  <!-- Bande défilante (vide au départ) -->
  <div class="ticker" aria-label="Fil d’actualité">
    <div class="ticker-track" id="tickerTrack">
      <!-- VIDE pour le moment -->
    </div>
  </div>

  <!-- Message quand c’est vide -->
  <p class="news-empty" id="newsEmpty">Aucune actualité pour le moment.</p>
</div>

      <div class="buttons">
        <button class="btn talent">PROFIL TALENT</button>
        <button class="btn recruteur">RECRUTEUR</button>
      </div>
    </div>
  </div>
</div>

<script>

const bg  = document.getElementById("bg");
const msg = document.getElementById("msg");

async function detectCountryFast(){
  const r = await fetch("https://ipapi.co/json/");
  const j = await r.json();
  return j.country_name || "";
}

(async () => {
  try{
    const country = await detectCountryFast();
    msg.textContent = country ? `Pays détecté : ${country}` : "Pays non détecté";

    setTimeout(() => {
      msg.textContent = "Chargement…";

      // Transition vers accueil
      document.getElementById("intro").style.display = "none";
      document.getElementById("accueil").style.display = "block";

    }, 5000);

  }catch(e){
    msg.textContent = "Chargement…";
    setTimeout(() => {
      document.getElementById("intro").style.display = "none";
      document.getElementById("accueil").style.display = "block";
    }, 5000);
  }
})();

</script>

</body>
</html>
